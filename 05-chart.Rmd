# Stata ä¿®å›¾ä¸æ“ä½œè®°å½•

å¯¹äº Stata åˆå­¦è€…è€Œè¨€ï¼Œä¸€èˆ¬åœ¨ç»˜å›¾çš„æ—¶å€™éƒ½ä¼šå¾ˆå¤´ç–¼ï¼Œå› ä¸º Stata ç»˜å›¾å‘½ä»¤çš„é€‰é¡¹éå¸¸å¤šä¸”ä¸å®¹æ˜“è®°ã€‚ä¸è¿‡å¹¸å¥½ Stata æä¾›äº†éå¸¸äººæ€§åŒ–çš„ GUIï¼Œè®©æˆ‘ä»¬å¯ä»¥é€šè¿‡å›¾å½¢ç•Œé¢æ“ä½œè¿›è¡Œä¿®å›¾ã€‚ç„¶è€Œæˆ‘ä»¬éƒ½çŸ¥é“é¼ æ ‡ç‚¹å‡»ä¿®å›¾çš„åå¤„å°±æ˜¯ä¸å¯é‡å¤ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬ç¬¬ä¸€æ¬¡ç»è¿‡ä¸€ç³»åˆ—çš„é¼ æ ‡ç‚¹å‡»æ“ä½œçš„è¿‡ç¨‹å¾ˆéš¾å†æ¬¡é‡å¤äº†ã€‚ä½†æ˜¯å¹¸è¿çš„æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨ Stata è¿›è¡Œä¿®å›¾æ“ä½œå¯ä»¥æŠŠä¿®å›¾æ“ä½œä¿å­˜æˆä»£ç ï¼Œè¿™æ ·å†æ¬¡ç»˜å›¾çš„æ—¶å€™ç›´æ¥è¿è¡Œä»£ç å³å¯ã€‚ä¸ºäº†å¤§å®¶ç»˜å›¾ä¸å¤´ç–¼ï¼Œæˆ‘è¿™é‡Œè®²ä¸€ä¸‹å¦‚ä½•åœ¨ Stata è¿›è¡Œä¿®å›¾å¹¶è®°å½•ä¿®å›¾æ“ä½œã€‚

é¦–å…ˆæˆ‘ä»¬ç»˜åˆ¶ä¸€å¹…å¾ˆä¸ç¾è§‚çš„å›¾ï¼š
```stata
* ä½¿ç”¨plotplainä¸»é¢˜ç»˜åˆ¶
sysuse auto, clear
tw sc price weight
```

![](assets/20181005b1.png)

å¯¹äº MacOS çš„ Stata æ¥è¯´ï¼Œå›¾å½¢çª—å£æ˜¯è¿™æ ·çš„ï¼ˆWindowsOS ç‰ˆæœ¬çš„ Stata çš„å›¾å½¢çª—å£è™½ç„¶ä¸å¤ªä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼‰ï¼š

![](assets/20181005b2.png)

ç‚¹å‡»å›¾å½¢ç¼–è¾‘å™¨ï¼ˆWindowsOS ç‰ˆæœ¬çš„ Stata æ˜¯åœ¨å›¾å½¢çª—å£ä¸Šå³é”®é€‰æ‹©`Start Graph Editor`ï¼‰ï¼Œå¼€å§‹å›¾å½¢ç¼–è¾‘æ“ä½œï¼š

![](assets/20181005b3.png)

è¿™ä¸ªæ—¶å€™ä½ ä¼šå‘ç°çª—å£çš„å³ä¸‹è§’ï¼ˆWindowsOS ç‰ˆæœ¬çš„ Stata çš„å›¾å½¢çª—å£è¿™ä¸‰ä¸ªæŒ‰é’®æ˜¯åœ¨é¡¶è¾¹æ ï¼‰æœ‰ä¸‰ä¸ªæŒ‰é’®ï¼Œç¬¬ä¸€ä¸ªæŒ‰é’®æ˜¯å¼€å§‹/ç»“æŸè®°å½•ä¿®å›¾æ“ä½œï¼Œç¬¬äºŒä¸ªæŒ‰é’®æ˜¯æš‚åœè®°å½•ï¼Œç¬¬ä¸‰ä¸ªæŒ‰é’®æ˜¯æ‰“å¼€ä¿®å›¾æ“ä½œçš„å®æ–‡ä»¶ï¼ˆé‡Œé¢è®°å½•äº†æ¯ä¸€æ­¥çš„ä¿®å›¾æ“ä½œï¼‰ã€‚

ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®å¼€å§‹è®°å½•ä¿®å›¾æ“ä½œï¼š

è¿™ä¸ªå›¾å½¢ç•Œé¢æ“ä½œè¿˜æ˜¯è›®å®¹æ˜“æ‡‚çš„ï¼Œå¤§å®¶å››å¤„ç‚¹å‡»è¯•è¯•å°±çŸ¥é“æ€ä¹ˆç”¨äº†ï¼Œä¾‹å¦‚åœ¨å³ä¾§è¾¹æ å¯ä»¥é€‰æ‹©å¯¹åº”çš„å›¾å½¢å…ƒç´ è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚ä¿®æ”¹çºµè½´æ ‡é¢˜ï¼š

![](assets/20181005b4.png)

ç¡®å®šï¼š

![](assets/20181005b5.png)

å†ä¾‹å¦‚æŠŠçºµè½´çš„æ ‡é¢˜ç§»åŠ¨åˆ°åæ ‡è½´çš„é¡¶ç«¯ï¼š

![](assets/20181005b6.png)

å†ä¾‹å¦‚æ·»åŠ ä¸€äº›æ–‡å­—ï¼ˆç‚¹å‡»ä¸‹è¾¹æ çš„ Tï¼‰

![](assets/20181005b7.png)

å…¶å®ƒçš„åŠŸèƒ½å¤§å®¶å¯ä»¥è‡ªè¡Œæ¢ç´¢ã€‚

ä¿®å›¾æ“ä½œå®Œæˆä¹‹åï¼Œç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®æš‚åœä¿®å›¾æ“ä½œæˆ–è€…ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®ä¿å­˜ä¿®å›¾æ“ä½œä¸ºä¸€ä¸ª grec æ–‡ä»¶ï¼š


![](assets/20181005b8.png)

![](assets/20181005b9.png)

![](assets/20181005b10.png)

ç„¶åä½ å°±ä¼šåœ¨æ¡Œé¢å‘ç°ä¸€ä¸ª grec æ–‡ä»¶äº†ã€‚

ä¸‹é¢æˆ‘ä»¬ä¸¢å¼ƒè¿™å¹…å›¾ï¼Œè¿è¡Œåˆšåˆšçš„ç»˜å›¾ä»£ç ï¼š
```stata
sysuse auto, clear
tw sc price weight
```
é‡æ–°ç»˜åˆ¶ä¸€å¹…æ²¡æœ‰ä¿®æ”¹çš„å›¾ï¼Œç„¶ååŒæ ·ç‚¹å‡»`å›¾å½¢ç¼–è¾‘å™¨`æ‰“å¼€æ“ä½œçª—å£ï¼Œå†ç‚¹å‡»å³ä¸‹è§’çš„ç¬¬ä¸‰ä¸ªæŒ‰é’® ğŸ‘‰ç‚¹å‡»æµè§ˆğŸ‘‰é€‰æ‹©åˆšåˆšä¿å­˜çš„ grec æ–‡ä»¶ï¼š

![](assets/20181005c1.png)

ç„¶åå°±ä¼šå‘ç°åˆšåˆšæ‰‹åŠ¨è¿›è¡Œçš„æ“ä½œè¢«é‡æ–°è¿è¡Œäº†ä¸€éï¼š

![](assets/20181005c2.png)

æˆ–è€…æˆ‘ä»¬åœ¨ç»˜å›¾ä»£ç ä¸­åŠ å…¥è¿™ä¹ˆä¸€ä¸ªé€‰é¡¹ä¹Ÿè¡Œï¼Œå°±ä¸€ä¸‹ä¹Ÿä¸è¦ç‚¹å‡»äº†ï¼š
```stata
tw sc price weight, play(myoperate)
```

![](assets/20181005c3.png)

ä½†æ˜¯è¿™ä¸ªå¿…é¡»è¦ä¿è¯`myoperate.grec`æ–‡ä»¶å­˜åœ¨æ‰èƒ½æ­£ç¡®è¿è¡Œï¼Œè™½ç„¶ä»£ç ç®€æ´ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¸å°å¿ƒå¼„ä¸¢äº†`myoperate.grec`æ–‡ä»¶é‚£ä¸å°±å®Œäº†ï¼å¹¸å¥½ Stata è¿˜æä¾›äº†æ›´ä»¤äººæ‹æ¡ˆå«ç»çš„æ“ä½œï¼Œæˆ‘ä»¬ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€è¿™ä¸ª`myoperate.grec`æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š
```stata
StataFileTM:00001:01100:GREC:                          :
00005:00004:00001:
*! classname: twowaygraph_g
*! family: twoway
*! date:  5 Oct 2018
*! time: 22:01:58
*! graph_scheme: plotplain
*! naturallywhite: 1
*! end

* File created by Graph Editor Recorder.
* Edit only if you know what you are doing.

.yaxis1.title.text = {}
.yaxis1.title.text.Arrpush ä»·æ ¼(ç¾å…ƒ)
* title edits

.yaxis1.title.DragBy 26.71715565298195 1.931360649613153
* title reposition

.plotregion1.AddTextBox added_text editor 14109.65584366113 1951.290247065128
.plotregion1.added_text_new = 1
.plotregion1.added_text_rec = 1
.plotregion1.added_text[1].style.editstyle  angle(default) ///
	size(medsmall) color(black) horizontal(left) vertical(middle) ///
	margin(zero) linegap(zero) drawbox(no) boxmargin(zero) ///
	fillcolor(bluishgray) linestyle( width(vthin) color(black) ///
	pattern(solid) align(inside)) box_alignment(east) editcopy
.plotregion1.added_text[1].text = {}
.plotregion1.added_text[1].text.Arrpush æ±½è½¦ä»·æ ¼ä¸æ±½è½¦é‡é‡ä¹‹é—´çš„å…³ç³»
* editor text[1] edits


* <end>
```

è™½ç„¶é‡Œé¢çš„ä»£ç å¾ˆå¤æ‚ï¼Œä½†æ˜¯å¤§è‡´è¿˜æ˜¯èƒ½çœ‹æ‡‚ï¼Œæˆ‘ä»¬æŠŠå…¶ä¸­ä»¥`.`å¼€å¤´çš„è¡Œéƒ½å¤åˆ¶åˆ°æˆ‘ä»¬çš„ do æ–‡ä»¶é‡Œé¢ï¼Œè®°å¾—åœ¨æ¯è¡Œå‰é¢åŠ ä¸Š`gr_edit`ï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠç»˜å›¾ä»£ç å†™æˆè¿™ä¸ªæ ·å­ï¼š
```stata
tw sc price weight

* ä¸‹é¢çš„ä»£ç æ˜¯é€šè¿‡å›¾å½¢ç¼–è¾‘å™¨è®°å½•çš„
gr_edit .yaxis1.title.text = {}
gr_edit .yaxis1.title.text.Arrpush ä»·æ ¼(ç¾å…ƒ)
gr_edit .yaxis1.title.DragBy 26.71715565298195 1.931360649613153
gr_edit .plotregion1.AddTextBox added_text editor 14109.65584366113 1951.290247065128
gr_edit .plotregion1.added_text_new = 1
gr_edit .plotregion1.added_text_rec = 1
gr_edit ..plotregion1.added_text[1].style.editstyle  angle(default) ///
	size(medsmall) color(black) horizontal(left) vertical(middle) ///
	margin(zero) linegap(zero) drawbox(no) boxmargin(zero) ///
	fillcolor(bluishgray) linestyle( width(vthin) color(black) ///
	pattern(solid) align(inside)) box_alignment(east) editcopy
gr_edit .plotregion1.added_text[1].text = {}
gr_edit .plotregion1.added_text[1].text.Arrpush æ±½è½¦ä»·æ ¼ä¸æ±½è½¦é‡é‡ä¹‹é—´çš„å…³ç³»
```
ç„¶åæŠŠä¸Šé¢çš„ä¸€å¤§æ®µä»£ç è¿è¡Œä¸€ä¸‹ä½ å°±ä¼šå‘ç°åˆšåˆšçš„é‚£å¹…å›¾åˆå‡ºç°äº†ï¼è€Œä¸”ä½ è¿˜å¯ä»¥ä¸€æ­¥æ­¥çš„è¿è¡Œè§‚å¯Ÿæ¯ä¸€æ­¥çš„ä½œç”¨ã€‚

å½“ç„¶å…¶å®è¿™ä¸ªä¸œè¥¿è¿˜æœ‰æ›´å¼ºå¤§çš„åº”ç”¨ï¼Œä¾‹å¦‚é€šè¿‡ä¸‹é¢çš„ä»£ç å¯ä»¥å®ç°åœ¨å›¾ç‰‡çš„å³è¾¹æ·»åŠ ä¸€ä¸ªè¡¨æ ¼ï¼š
```stata
sysuse auto, clear
twoway scatter mpg rep78, msize(small) ||, ///
	graphregion(margin(r+50)) yti("é‡Œç¨‹æ•°") ///
	xti("1978å¹´çš„ç»´ä¿®æ¬¡æ•°")

gr_edit AddTextBox added_text editor `=82+8' `=101'
gr_edit added_text_new = 1
gr_edit added_text_rec = 1
gr_edit added_text[1].text = {}
gr_edit added_text[1].text.Arrpush "Mean mpg by rep78"
gr_edit AddTextBox added_text editor `=82+2' `=112'
gr_edit added_text_new = 2
gr_edit added_text_rec = 2
gr_edit added_text[2].text = {}
gr_edit added_text[2].text.Arrpush "rep78  mpg"

* æŒ‰ç…§rep78å˜é‡è¿›è¡Œåˆ†ç»„æ±‚mpgçš„å‡å€¼
collapse mpg, by(rep78)

local z = 2

forvalues i=0/4 {
  local ++z
  gr_edit AddTextBox added_text editor `=80-(`i'*4)' `=114'
  gr_edit added_text_new = `z'
  gr_edit added_text_rec = `z'
  gr_edit added_text[`z'].text = {}
  gr_edit added_text[`z'].text.Arrpush ///
  "`=rep78[`z'-2]'      `=string(mpg[`z'-2],"%8.2f")' "
}
```

![](assets/åœ¨å›¾ç‰‡çš„ä¾§é¢æ·»åŠ è¡¨æ ¼2.png)
